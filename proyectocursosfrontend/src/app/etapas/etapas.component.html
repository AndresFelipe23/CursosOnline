<div class="container mx-auto px-4 py-8 max-w-3xl">
  <h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">
    Etapas del Curso
  </h1>

  <!-- Contenedor con línea conectora -->
  <div class="relative flex flex-col items-center mt-12">
    <!-- Línea vertical conectora -->
    <div class="absolute h-full w-1 bg-gray-200 left-1/2 transform -translate-x-1/2"></div>

    <!-- Etapas -->
    <div *ngFor="let etapa of etapas; let i = index" class="relative w-full mb-8 flex justify-center">

      <!-- Línea conectora personalizada para etapas completadas -->
      <div *ngIf="i < etapas.length - 1" class="absolute w-1 bg-blue-500 left-1/2 transform -translate-x-1/2" [ngStyle]="{'height': '100px', 'top': '100%'}"></div>

      <!-- Tarjeta de la etapa -->
      <div class="relative flex flex-col items-center w-full max-w-md">
        <!-- Círculo indicador -->
        <div class="w-16 h-16 rounded-full bg-white border-4 border-blue-500 flex items-center justify-center mb-4 z-10 shadow-lg transform transition-transform duration-300 hover:scale-110 cursor-pointer">
          <span class="text-xl font-bold text-blue-500">{{ i + 1 }}</span>
        </div>

        <!-- Contenido de la etapa -->
        <div class="w-full bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border-l-4 border-blue-500">
          <h2 class="text-xl font-semibold text-gray-800 mb-3 text-center">{{ etapa.etaNombre }}</h2>
          <p class="text-gray-600 text-center mb-4">{{ etapa.etaDescripcion }}</p>

          <!-- Información de lecciones -->
          <div class="flex justify-center items-center gap-2 mb-4 text-gray-500">
            <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
            </svg>
            <span>{{ etapa.etaNumeroLecciones }} Lecciones</span>
          </div>

          <!-- Barra de progreso -->
          <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
            <div class="bg-blue-500 h-2 rounded-full" [style.width]="'0%'"></div>
          </div>

          <!-- Botón de acción para ver las lecciones -->
          <a [routerLink]="['/lecciones', etapa.etapaId]" [queryParams]="{ cursoId: cursoId }" class="w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-300 flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Empezar Etapa
          </a>

        </div>
      </div>
    </div>
  </div>
</div>
